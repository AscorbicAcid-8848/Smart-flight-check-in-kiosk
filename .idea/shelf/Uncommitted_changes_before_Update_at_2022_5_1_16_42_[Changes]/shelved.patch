Index: src/Boundary/InitPage.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package Boundary;\r\n\r\nimport model.*;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.plaf.PanelUI;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.Objects;\r\n\r\npublic class InitPage extends JFrame implements ActionListener {\r\n    //此次登录的用户对象\r\n    private static Passenger passenger =new Passenger();\r\n    //此次登录的航空公司对象\r\n    private Airline airline = new Airline();\r\n    //此次登录的登机牌对象\r\n    private BoardingPass boardingPass = new BoardingPass();\r\n    //此次登录的航班对象\r\n    private Flight flight = new Flight();\r\n    //此次登录的Id doc\r\n    private IdDocument idDocument = new IdDocument();\r\n\r\n    //最高级panel：所有页面的容器\r\n    private JPanel framePanel;\r\n\r\n    //与InitPage 有关的组件以及容器\r\n    private JButton button_bookNum;\r\n    private JButton button_UserInfo;\r\n    private JButton button_Scan;\r\n    private JPanel panel_InitPage;\r\n    private JPanel panel_top;\r\n    private JPanel panel_bot;\r\n    private ImageIcon heathrowImage;\r\n    private JLabel heathrowLabel;\r\n\r\n\r\n    //LoginByNameIdPage\r\n    private LoginByNameIdPage panel_LoginByNameIdPage;\r\n    private JButton button_LoginByNameId_backToInit;\r\n    private JButton button_LoginByNameId_confirm;\r\n    private JToggleButton button_LoginByNameId_see;\r\n    private int see_type =1;\r\n\r\n    //LoginByIdDocPage\r\n    private LoginByIdDocPage panel_LoginByIdDocPage;\r\n    private JButton button_LoginByIdDocPage_backToInit;\r\n\r\n    //UserInfoPage\r\n    private UserInfoPage panel_UserInfoPage;\r\n    private JButton button_userinfo_backToInit;\r\n\r\n    public InitPage(){//此方法作用：初始化Frame 及framePanel，不作对于panel的修改\r\n\r\n        framePanel = new JPanel();\r\n        setPanelInitPage();\r\n        setOtherPages();\r\n        showInitPage();//第一次进入，展示initpage内容\r\n        setBounds(300,300,977,717);\r\n        setVisible(true);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }\r\n    public void setPanelInitPage(){\r\n\r\n        JLabel label_Login = new JLabel(\"Welcome to London Heathrow, Choose a way login!\");\r\n        button_bookNum = new JButton(\"Booking Number\");\r\n        button_UserInfo = new JButton(\"User info\");\r\n        button_Scan = new JButton(\"Scan ID document\");\r\n        panel_InitPage = new JPanel();\r\n        panel_bot = new JPanel();\r\n        panel_top = new JPanel();\r\n        heathrowImage = new ImageIcon(\"Boundary/images/HeathrowAirport.jpg\");\r\n        heathrowLabel = new JLabel(heathrowImage);\r\n\r\n        label_Login.setFont(new Font(\"SimSun\", Font.PLAIN, 20));\r\n        button_bookNum.setFont(new Font(\"Serif\", Font.PLAIN, 15));\r\n        button_UserInfo.setFont(new Font(\"Serif\", Font.PLAIN, 15));\r\n        button_Scan.setFont(new Font(\"Serif\", Font.PLAIN, 15));\r\n\r\n        button_bookNum.addActionListener(this);\r\n        button_UserInfo.addActionListener(this);\r\n        button_Scan.addActionListener(this);\r\n\r\n//        panel_InitPage.add(heathrowLabel);\r\n        heathrowLabel.setBounds(0,0,977,717);\r\n\r\n        panel_InitPage.setLayout(new GridLayout(2,1,0,50));\r\n        panel_bot.setLayout(new GridLayout(3,1,0,30));\r\n        panel_InitPage.add(panel_top);\r\n        panel_InitPage.add(panel_bot);\r\n        panel_top.add(label_Login);\r\n        panel_bot.add(button_bookNum);\r\n        panel_bot.add(button_UserInfo);\r\n        panel_bot.add(button_Scan);\r\n\r\n    }\r\n    public void showInitPage(){\r\n        add(framePanel);\r\n        framePanel.add(panel_InitPage);\r\n    }\r\n    public void setOtherPages(){//实例化每一个界面的panel对象，以及拿到对应panel里面的按钮，并给按钮绑定事件\r\n        panel_UserInfoPage = new UserInfoPage();\r\n        button_userinfo_backToInit = panel_UserInfoPage.getButton_backToInit();\r\n        button_userinfo_backToInit.addActionListener(this);\r\n\r\n        panel_LoginByNameIdPage = new LoginByNameIdPage();\r\n        button_LoginByNameId_backToInit = panel_LoginByNameIdPage.getButton_backToInit();\r\n        button_LoginByNameId_confirm = panel_LoginByNameIdPage.getButton_confirm();\r\n        button_LoginByNameId_see = panel_LoginByNameIdPage.getButton_see();\r\n        button_LoginByNameId_backToInit.addActionListener(this);\r\n        button_LoginByNameId_confirm.addActionListener(this);\r\n        button_LoginByNameId_see.addActionListener(this);\r\n        \r\n        panel_LoginByIdDocPage = new LoginByIdDocPage();\r\n        button_LoginByIdDocPage_backToInit = panel_LoginByIdDocPage.getButton_backToInit();\r\n        button_LoginByIdDocPage_backToInit.addActionListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if(e.getSource() == button_LoginByNameId_see){\r\n            see_type = -see_type;\r\n            if(see_type==-1)\r\n            panel_LoginByNameIdPage.setId().setEchoChar('\\0');\r\n            else if(see_type ==1)\r\n            panel_LoginByNameIdPage.setId().setEchoChar('*');\r\n        }\r\n        if(e.getSource() == button_bookNum){\r\n            //测试：点击此按钮进入userinfo界面\r\n            pageChange(panel_UserInfoPage);\r\n        }\r\n        ///////////////////////////去往用名字Id登录的界面\r\n        if(e.getSource() == button_UserInfo){\r\n            pageChange(panel_LoginByNameIdPage);\r\n        }\r\n        //属于LoginByNameId,返回到最高级\r\n        if(e.getSource()==button_LoginByNameId_backToInit){\r\n            pageChange(panel_InitPage);\r\n            refresh();\r\n        }\r\n        //属于LoginByNameId,确定登录,之后进入UserInfoPage\r\n        //在前往userInfoPage之前，渲染界面。\r\n        //to be added: 检查数据库里面有没有这个人，如果没有，不能通过。\r\n        if(e.getSource()==button_LoginByNameId_confirm){\r\n            boolean isValid = true;\r\n\r\n            passenger.setSurname(panel_LoginByNameIdPage.getSurname());\r\n\r\n            if(Objects.equals(passenger.getSurname(), \"\")){\r\n                isValid = false;\r\n                panel_LoginByNameIdPage.nameWarning();\r\n            }\r\n\r\n            try{\r\n                passenger.setPassengerId(Integer.parseInt(panel_LoginByNameIdPage.getId()));\r\n                panel_UserInfoPage.render(passenger);\r\n            }\r\n            catch(NumberFormatException exception){\r\n                isValid = false;\r\n                panel_LoginByNameIdPage.IdWarning();\r\n            }\r\n            if(isValid)\r\n                pageChange(panel_UserInfoPage);\r\n            else\r\n                pageChange(panel_LoginByNameIdPage);\r\n        }\r\n\r\n        ////////////////////////////去往 扫描界面\r\n        if(e.getSource()==button_Scan){\r\n            pageChange(panel_LoginByIdDocPage);\r\n        }\r\n        //属于LoginByIdDocPage,返回最高级\r\n        if(e.getSource()==button_LoginByIdDocPage_backToInit){\r\n            pageChange(panel_InitPage);\r\n            refresh();\r\n        }\r\n        //属于UserInfoPage,返回最高级\r\n        if(e.getSource() == button_userinfo_backToInit){\r\n            pageChange(panel_InitPage);\r\n            refresh();\r\n        }\r\n    }\r\n\r\n    public void pageChange(JPanel page){\r\n        framePanel.removeAll();\r\n        framePanel.repaint();\r\n        framePanel.add(page);\r\n        framePanel.validate();\r\n    }\r\n\r\n    //在返回到最高级之后，将所有带有输入框的页面refresh\r\n    //并且将用户，航空公司等对象信息全部清零\r\n    public void refresh(){\r\n        panel_LoginByNameIdPage.refresh();\r\n\r\n        passenger = new Passenger();\r\n        airline = new Airline();\r\n        boardingPass = new BoardingPass();\r\n        idDocument = new IdDocument();\r\n        flight = new Flight();\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/Boundary/InitPage.java b/src/Boundary/InitPage.java
--- a/src/Boundary/InitPage.java	(revision e1a56d352b28d09e3d725117baf6ee99d37cdd6d)
+++ b/src/Boundary/InitPage.java	(date 1651042157110)
@@ -12,7 +12,7 @@
 
 public class InitPage extends JFrame implements ActionListener {
     //此次登录的用户对象
-    private static Passenger passenger =new Passenger();
+    private Passenger passenger =new Passenger();
     //此次登录的航空公司对象
     private Airline airline = new Airline();
     //此次登录的登机牌对象
@@ -70,7 +70,7 @@
         panel_InitPage = new JPanel();
         panel_bot = new JPanel();
         panel_top = new JPanel();
-        heathrowImage = new ImageIcon("Boundary/images/HeathrowAirport.jpg");
+        heathrowImage = new ImageIcon("Boundary//images//HeathrowAirport.jpg");
         heathrowLabel = new JLabel(heathrowImage);
 
         label_Login.setFont(new Font("SimSun", Font.PLAIN, 20));
@@ -82,7 +82,6 @@
         button_UserInfo.addActionListener(this);
         button_Scan.addActionListener(this);
 
-//        panel_InitPage.add(heathrowLabel);
         heathrowLabel.setBounds(0,0,977,717);
 
         panel_InitPage.setLayout(new GridLayout(2,1,0,50));
